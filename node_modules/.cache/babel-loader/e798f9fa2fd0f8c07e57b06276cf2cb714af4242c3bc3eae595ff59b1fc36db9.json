{"ast":null,"code":"import _slicedToArray from\"/Users/troshin/dev/Membrana2\\xA0\\u2014 \\u043A\\u043E\\u043F\\u0438\\u044F/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import Styles from'./SoundButton.module.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SoundButton(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isSoundOn=_useState2[0],setIsSoundOn=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),showText=_useState4[0],setShowText=_useState4[1];useEffect(function(){var soundIsOn=localStorage.getItem('soundIsOn');if(soundIsOn!==null){setIsSoundOn(soundIsOn==='true');}},[]);var toggleSound=function toggleSound(){var audio=document.getElementById('audio');if(audio){if(isSoundOn){audio.pause();}else{audio.play();}}setIsSoundOn(function(prev){return!prev;});setShowText(false);};return/*#__PURE__*/_jsxs(\"div\",{className:Styles.BtnWrapper,children:[showText&&/*#__PURE__*/_jsx(\"div\",{className:Styles.BtnText,children:isSoundOn?'':'Включите звук для полного погружения'}),/*#__PURE__*/_jsx(\"div\",{className:Styles.Btn,onClick:toggleSound,children:/*#__PURE__*/_jsxs(\"div\",{className:Styles.BtnInner,children:[/*#__PURE__*/_jsxs(\"div\",{className:Styles.BtnContent,children:[/*#__PURE__*/_jsx(\"img\",{src:isSoundOn?'img/sound/sound-on.svg':'img/sound/sound-off.svg',alt:isSoundOn?'Sound On':'Sound Off'}),/*#__PURE__*/_jsxs(\"audio\",{id:\"audio\",loop:true,children:[/*#__PURE__*/_jsx(\"source\",{src:\"https://storage.yandexcloud.net/cdn.tsekh.design/Membrana/mts_ambience_loop.ogg\",type:\"audio/ogg; codecs=vorbis\"}),/*#__PURE__*/_jsx(\"source\",{src:\"https://storage.yandexcloud.net/cdn.tsekh.design/Membrana/mts_ambience_loop.mp3\",type:\"audio/mpeg\"}),/*#__PURE__*/_jsx(\"source\",{src:\"https://storage.yandexcloud.net/cdn.tsekh.design/Membrana/mts_ambience_loop.mp3\",type:\"audio/mp3\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:Styles.BtnGradient})]})})]});}export default SoundButton;","map":{"version":3,"names":["React","useState","useEffect","Styles","jsx","_jsx","jsxs","_jsxs","SoundButton","_useState","_useState2","_slicedToArray","isSoundOn","setIsSoundOn","_useState3","_useState4","showText","setShowText","soundIsOn","localStorage","getItem","toggleSound","audio","document","getElementById","pause","play","prev","className","BtnWrapper","children","BtnText","Btn","onClick","BtnInner","BtnContent","src","alt","id","loop","type","BtnGradient"],"sources":["/Users/troshin/dev/Membrana2 — копия/src/components/ui/SoundButton/SoundButton.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Styles from './SoundButton.module.scss';\n\nfunction SoundButton() {\n  const [isSoundOn, setIsSoundOn] = useState(false);\n  const [showText, setShowText] = useState(true);\n\n  useEffect(() => {\n    const soundIsOn = localStorage.getItem('soundIsOn');\n    if (soundIsOn !== null) {\n      setIsSoundOn(soundIsOn === 'true');\n    }\n  }, []);\n\n  const toggleSound = () => {\n    const audio = document.getElementById('audio');\n\n    if (audio) {\n      if (isSoundOn) {\n        audio.pause();\n      } else {\n        audio.play();\n      }\n    }\n\n    setIsSoundOn((prev) => !prev);\n    setShowText(false);\n  };\n\n  return (\n    <div className={Styles.BtnWrapper}>\n      {showText && <div className={Styles.BtnText}>{isSoundOn ? '' : 'Включите звук для полного погружения'}</div>}\n      <div className={Styles.Btn} onClick={toggleSound}>\n        <div className={Styles.BtnInner}>\n          <div className={Styles.BtnContent}>\n            <img src={isSoundOn ? 'img/sound/sound-on.svg' : 'img/sound/sound-off.svg'} alt={isSoundOn ? 'Sound On' : 'Sound Off'} />\n            <audio id='audio' loop>\n              <source\n                src='https://storage.yandexcloud.net/cdn.tsekh.design/Membrana/mts_ambience_loop.ogg'\n                type='audio/ogg; codecs=vorbis'\n              />\n              <source src='https://storage.yandexcloud.net/cdn.tsekh.design/Membrana/mts_ambience_loop.mp3' type='audio/mpeg' />\n              <source src='https://storage.yandexcloud.net/cdn.tsekh.design/Membrana/mts_ambience_loop.mp3' type='audio/mp3' />\n            </audio>\n          </div>\n          <div className={Styles.BtnGradient}></div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default SoundButton;\n"],"mappings":"2JAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,MAAM,KAAM,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE/C,QAAS,CAAAC,WAAWA,CAAA,CAAG,CACrB,IAAAC,SAAA,CAAkCR,QAAQ,CAAC,KAAK,CAAC,CAAAS,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA1CG,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAC9B,IAAAI,UAAA,CAAgCb,QAAQ,CAAC,IAAI,CAAC,CAAAc,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAvCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAE5Bb,SAAS,CAAC,UAAM,CACd,GAAM,CAAAgB,SAAS,CAAGC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CACnD,GAAIF,SAAS,GAAK,IAAI,CAAE,CACtBL,YAAY,CAACK,SAAS,GAAK,MAAM,CAAC,CACpC,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAAG,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAA,CAAS,CACxB,GAAM,CAAAC,KAAK,CAAGC,QAAQ,CAACC,cAAc,CAAC,OAAO,CAAC,CAE9C,GAAIF,KAAK,CAAE,CACT,GAAIV,SAAS,CAAE,CACbU,KAAK,CAACG,KAAK,CAAC,CAAC,CACf,CAAC,IAAM,CACLH,KAAK,CAACI,IAAI,CAAC,CAAC,CACd,CACF,CAEAb,YAAY,CAAC,SAACc,IAAI,QAAK,CAACA,IAAI,GAAC,CAC7BV,WAAW,CAAC,KAAK,CAAC,CACpB,CAAC,CAED,mBACEV,KAAA,QAAKqB,SAAS,CAAEzB,MAAM,CAAC0B,UAAW,CAAAC,QAAA,EAC/Bd,QAAQ,eAAIX,IAAA,QAAKuB,SAAS,CAAEzB,MAAM,CAAC4B,OAAQ,CAAAD,QAAA,CAAElB,SAAS,CAAG,EAAE,CAAG,sCAAsC,CAAM,CAAC,cAC5GP,IAAA,QAAKuB,SAAS,CAAEzB,MAAM,CAAC6B,GAAI,CAACC,OAAO,CAAEZ,WAAY,CAAAS,QAAA,cAC/CvB,KAAA,QAAKqB,SAAS,CAAEzB,MAAM,CAAC+B,QAAS,CAAAJ,QAAA,eAC9BvB,KAAA,QAAKqB,SAAS,CAAEzB,MAAM,CAACgC,UAAW,CAAAL,QAAA,eAChCzB,IAAA,QAAK+B,GAAG,CAAExB,SAAS,CAAG,wBAAwB,CAAG,yBAA0B,CAACyB,GAAG,CAAEzB,SAAS,CAAG,UAAU,CAAG,WAAY,CAAE,CAAC,cACzHL,KAAA,UAAO+B,EAAE,CAAC,OAAO,CAACC,IAAI,MAAAT,QAAA,eACpBzB,IAAA,WACE+B,GAAG,CAAC,iFAAiF,CACrFI,IAAI,CAAC,0BAA0B,CAChC,CAAC,cACFnC,IAAA,WAAQ+B,GAAG,CAAC,iFAAiF,CAACI,IAAI,CAAC,YAAY,CAAE,CAAC,cAClHnC,IAAA,WAAQ+B,GAAG,CAAC,iFAAiF,CAACI,IAAI,CAAC,WAAW,CAAE,CAAC,EAC5G,CAAC,EACL,CAAC,cACNnC,IAAA,QAAKuB,SAAS,CAAEzB,MAAM,CAACsC,WAAY,CAAM,CAAC,EACvC,CAAC,CACH,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAAjC,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}